@tailwind base;
@tailwind components;
@tailwind utilities;

@layer components {
  /* Glass effect for cards */
  .glass {
    background: hsl(var(--card) / 0.9);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
  }
}

@layer base {
  /**
   * Dark Cinema Theme - Default (Always Dark)
   * High contrast, video-optimized, WCAG AA+ compliant
   */
  :root {
    /* Backgrounds */
    --background: 220 25% 6%;        /* Deep space */
    --foreground: 210 20% 98%;       /* High contrast text */
    
    /* Cards & Surfaces */
    --card: 220 23% 12%;             /* Elevated surface - slightly lighter */
    --card-foreground: 210 20% 98%;
    --popover: 220 21% 14%;          /* Higher elevation */
    --popover-foreground: 210 20% 98%;
    
    /* Brand Colors */
    --primary: 217 91% 60%;          /* Blue - 4.8:1 contrast */
    --primary-foreground: 210 20% 98%;
    --secondary: 220 20% 16%;        /* Muted surface */
    --secondary-foreground: 210 20% 98%;
    
    /* Muted/Subtle */
    --muted: 220 20% 16%;
    --muted-foreground: 215 14% 68%; /* 5.2:1 contrast */
    
    /* Accent */
    --accent: 220 19% 18%;
    --accent-foreground: 210 20% 98%;
    
    /* Status Colors */
    --destructive: 0 72% 51%;        /* Red - 4.7:1 contrast */
    --destructive-foreground: 210 20% 98%;
    --success: 158 64% 52%;          /* Green - 5.1:1 contrast */
    --success-foreground: 210 20% 98%;
    --warning: 38 92% 50%;           /* Amber - 6.8:1 contrast */
    --warning-foreground: 220 25% 6%;
    
    /* Borders & Inputs */
    --border: 220 18% 22%;           /* Visible borders */
    --input: 220 20% 16%;            /* Input background */
    --ring: 217 91% 60%;             /* Focus ring (primary) */
    
    /* Border Radius */
    --radius: 0.75rem;               /* 12px - balanced */
    
    /* Elevation (shadows) */
    --elevation-1: 0 1px 2px 0 rgba(0, 0, 0, 0.5);
    --elevation-2: 0 4px 8px 0 rgba(0, 0, 0, 0.6);
    --elevation-3: 0 8px 16px 0 rgba(0, 0, 0, 0.7);
    --elevation-4: 0 12px 24px 0 rgba(0, 0, 0, 0.8);
    
    /* Motion - Low intensity */
    --duration-instant: 100ms;
    --duration-fast: 150ms;
    --duration-normal: 200ms;
    --duration-slow: 300ms;
    
    --ease-sharp: cubic-bezier(0.4, 0.0, 0.2, 1);
    --ease-standard: cubic-bezier(0.4, 0.0, 0.6, 1);
    --ease-emphasized: cubic-bezier(0.2, 0.0, 0.0, 1);
  }

  /* Dark mode class (no-op, but kept for compatibility) */
  .dark {
    /* Already dark by default */
  }
  
  /**
   * Cinema Mode - Ultra-immersive
   */
  .cinema-mode {
    --background: 0 0% 0%;           /* Pure black */
    --card: 0 0% 3%;                 /* Near black */
    --border: 220 18% 12%;           /* Darker borders */
  }
}

@layer base {
  * {
    @apply border-border;
  }
  
  body {
    @apply bg-background text-foreground antialiased;
  }
  
  /* Improve touch targets on mobile */
  button, a, input, select, textarea {
    @apply touch-manipulation;
  }
  
  /* Smooth scrolling - respects prefers-reduced-motion */
  @media (prefers-reduced-motion: no-preference) {
    html {
      scroll-behavior: smooth;
    }
  }
  
  /* Better focus styles for accessibility */
  :focus-visible {
    @apply outline-none ring-2 ring-ring ring-offset-2 ring-offset-background;
  }
  
  /* Respect user's motion preferences */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }
}

@layer components {
  /* Responsive container with safe area support */
  .safe-container {
    @apply container mx-auto px-4 sm:px-6 lg:px-8;
    padding-left: max(1rem, env(safe-area-inset-left));
    padding-right: max(1rem, env(safe-area-inset-right));
  }
  
  /* Card hover effect - Low intensity */
  .card-interactive {
    @apply transition-all ease-in-out hover:border-primary/20;
    transition-duration: var(--duration-fast, 150ms);
    box-shadow: var(--elevation-1);
  }
  
  .card-interactive:hover {
    box-shadow: var(--elevation-2);
  }
  
  /* Gradient backgrounds - Subtle */
  .gradient-primary {
    @apply bg-gradient-to-br from-primary/10 via-background to-primary/5;
  }
  
  /* Glass effect - For video overlays */
  .glass {
    @apply bg-background/80 backdrop-blur-sm border border-white/10;
  }
  
  /* Skeleton loading - Subtle */
  .skeleton {
    @apply animate-pulse bg-muted rounded;
  }
  
  /* Elevation classes */
  .elevation-1 {
    box-shadow: var(--elevation-1);
  }
  
  .elevation-2 {
    box-shadow: var(--elevation-2);
  }
  
  .elevation-3 {
    box-shadow: var(--elevation-3);
  }
  
  .elevation-4 {
    box-shadow: var(--elevation-4);
  }
  
  /* Button press effect - Low intensity */
  .btn-press {
    @apply active:scale-[0.98] transition-transform;
    transition-duration: var(--duration-instant, 100ms);
  }
}

@layer utilities {
  /* Hide scrollbar but allow scrolling */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
  
  /* Text balance for headings */
  .text-balance {
    text-wrap: balance;
  }
  
  /* Safe area padding for mobile devices */
  .safe-pb {
    padding-bottom: max(1rem, env(safe-area-inset-bottom));
  }
  
  .safe-pt {
    padding-top: max(1rem, env(safe-area-inset-top));
  }
}

#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ” Running pre-push checks..."

# Generate Prisma client first
echo "ğŸ“¦ Generating Prisma client..."
pnpm db:generate || exit 1

# Build data-model package
echo "ğŸ—ï¸  Building @fieldview/data-model..."
pnpm --filter @fieldview/data-model build || exit 1

# Type check
echo "ğŸ” Running type-check..."
pnpm type-check || exit 1

# Lint
echo "ğŸ§¹ Running linter..."
pnpm lint || exit 1

echo "âœ… All pre-push checks passed!"

